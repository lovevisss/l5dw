(function(c){var e=0;c.fn.createBanner=function(f){return this.each(function(){this.unique=e++;this.route=1;if(this.timer){clearInterval(this.timer)}this.timer=null;this.interval=f;c(this).find(".new-add").remove();b(this);c(this).find(".sp-img").show()})};function b(f){var l=c(f);var k=0;var h=l.find("ul");var j=h.find("li").length;h.addClass("sp-slider");if(j<=1){h.find("li").css("opacity","1");return}h.find("li").each(function(n){var i='<input id="sp-radio-{0}-{1}" type="radio" name="banner-{1}" class="sp-radio new-add">'.format(n,f.unique);if(c(this).hasClass("active")){k=n}c(this).before(i)});l.find("#sp-radio-"+k+"-"+f.unique).prop("checked",true);var m=c('<div class="sp-radios new-add"></div>');for(var g=0;g<j;g++){m.append('<label for="sp-radio-{0}-{1}"></label>'.format(g,f.unique));if(g==0){m.append('<div class="sp-arrow sp-arrow-left" tp1="平台" tp2="首页" tp3="banner" tp4="切换banner" tp5="向左切换"></div>')}}m.append('<div class="sp-arrow sp-arrow-right" tp1="平台" tp2="首页" tp3="banner" tp4="切换banner" tp5="向右切换"></div>');m.find('label[for="sp-radio-{0}-{1}"]'.format(k,f.unique)).addClass("active");l.prepend(m);a(f)}function a(f){var g=c(f);g.find(".sp-radios label").unbind("click").click(function(){g.find(".sp-radios label").removeClass("active");c(this).addClass("active")});g.find(".sp-arrow.sp-arrow-left").unbind("click").click(function(){d(f,-1)});g.find(".sp-arrow.sp-arrow-right").unbind("click").click(function(){d(f,1)});f.timer=setInterval(function(){d(f)},f.interval);g.unbind("mouseover").mouseover(function(){clearInterval(f.timer)});g.unbind("mouseout").mouseout(function(){f.timer=setInterval(function(){d(f)},f.interval)})}function d(h,g){var j=c(h);if(g!=undefined){h.route=g}var i=j.find(".sp-slider input[type='radio'][name='banner-{0}']:checked".format(h.unique)).index();i=i/2;var f=j.find(".sp-slider>li").length;if(i+h.route==f||i+h.route==-1){h.route*=-1}j.find(".sp-radios label").eq(i+h.route).click()}})(jQuery);(function(b){b.fn.dragTable=function(d,c){return this.each(function(){this.func=c||undefined;this.isDrag=d;this.dragObj=null;var e=this;b(this).off("mousedown").on("mousedown","tbody tr",function(f){if(!e.isDrag){return}e.dragObj=b(this);b(e.dragObj).addClass("isMove");b(e).css("cursor","move");b(e.dragObj).after('<tr class="emptyTd"><td colspan="{1}" style="height: {0}px"></td></tr>'.format(b(e.dragObj).height(),b(e.dragObj).find("td").length));b(e.dragObj).find("td").each(function(){b(this).css({width:b(this).width(),height:b(this).height()})});e.mtop=f.pageY-b(e.dragObj).position().top;e.mleft=f.pageX-b(e.dragObj).position().left;b(e.dragObj).css({position:"absolute",opacity:0.8,"z-index":10,top:b(e.dragObj).position().top,left:b(e.dragObj).position().left});return false}).off("mouseup").on("mouseup","tbody tr",function(f){if(e.dragObj){a(e);return false}}).off("mousemove").on("mousemove","tbody",function(g){if(e.dragObj){b(e.dragObj).css({top:g.pageY-e.mtop,left:g.pageX-e.mleft});var f=true;b(e).find("tbody tr").each(function(){if(b(this).hasClass("isMove")){return true}if(b(this).offset().top<=g.pageY&&b(this).offset().top+b(this).height()+1>=g.pageY){if(!b(this).hasClass("emptyTd")){if(b(e).find(".emptyTd").offset().top>=b(this).offset().top){b(e).find(".emptyTd").remove();b(this).before('<tr class="emptyTd"><td colspan="{1}" style="height: {0}px"></td></tr>'.format(b(e.dragObj).height(),b(e.dragObj).find("td").length))}else{b(".emptyTd").remove();b(this).after('<tr class="emptyTd"><td colspan="{1}" style="height: {0}px"></td></tr>'.format(b(e.dragObj).height(),b(e.dragObj).find("td").length))}}f=false;return false}});if(f){a(e)}return false}})})};function a(e){var d=b(e.dragObj);var c=0;b(e).find("tr").each(function(f){if(b(this).hasClass("emptyTd")){c=f}});b(e.dragObj).css({position:"relative",top:"",left:"","z-index":"",opacity:1}).removeClass("isMove");b(e).find(".emptyTd").replaceWith(b(e.dragObj));e.dragObj=null;b(e).css("cursor","default");if(typeof e.func!="undefined"){e.func(d,c)}}})(jQuery);