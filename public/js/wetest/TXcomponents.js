$(document).ready(function(){if(in_array(window.location.host,["fsight.openqa.qq.com","fsightpub.qq.com","fsight.qq.com"])){var b=setInterval(function(){if(typeof WeTest!="undefined"&&WeTest.wPost){clearInterval(b);WeTest.wPost(webRoot+"/stat/",{url:window.location.href,refer:document.referrer});if(window.performance){var c=window.performance.timing.domContentLoadedEventStart-window.performance.timing.fetchStart;WeTest.wPost(webRoot+"/stat/time-delay/",{url:window.location.href,time:c})}}},0);return}if(!in_array(window.location.host,["user.openqa.qq.com","wepub.qq.com","wetest.qq.com"])){return}if(typeof webRoot=="undefined"){webRoot=""}$.post(webRoot+"/stat/",{url:window.location.href,refer:document.referrer});if(window.performance){var a=window.performance.timing.domContentLoadedEventStart-window.performance.timing.fetchStart;$.post(webRoot+"/stat/time-delay/",{url:window.location.href,time:a})}});jQuery.each(["get","post"],function(a,b){jQuery[b]=function(c,e,f,d){if(jQuery.isFunction(e)){d=d||f;f=e;e=undefined}return jQuery.ajax({url:c,type:b,dataType:d,data:e,attribute:"ignore",success:f,xhrFields:{withCredentials:true},crossDomain:true})}});jQuery(document).ajaxSend(function(d,e,c){function f(i){var g=new RegExp("(^|&)"+i+"=([^&]*)(&|$)");var h=window.location.search.substr(1).match(g);if(h!=null){return unescape(h[2])}return null}function a(i,g,h){if(i instanceof Object){return i}else{if(i){return i+"&"+g+"="+encodeURIComponent(h)}else{if(typeof e.setRequestHeader=="function"){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");return g+"="+encodeURIComponent(h)}}}}if(typeof e.setRequestHeader=="function"){if(getCookie("wetest_token")){e.setRequestHeader("X-CSRF-TOKEN",getCookie("wetest_token"))}else{var b=$("meta[name=csrf-token]").attr("content");if(b){e.setRequestHeader("X-CSRF-TOKEN",b)}}if(getCookie("frsc")){e.setRequestHeader("frsc",getCookie("frsc"))}}});jQuery(document).ajaxError(function(f,e,c,d){if(window.location.host=="wetest.qq.com"||window.location.host=="fsight.qq.com"){return true}if(c.attribute!="ignore"){var b=[501,400,401];if(in_array(e.status,b)){if(typeof nmcApi=="object"){nmcApi.tipError("请求被拦截，请与管理员联系("+e.status+")")}else{Doalert("请求被拦截，请与管理员联系("+e.status+")")}return true}var a=[0,200,301,302];if(!in_array(e.status,a)){if(typeof nmcApi=="object"){nmcApi.tipError("通信失败，请稍候再试("+e.status+")")}else{Doalert("通信失败，请稍候再试("+e.status+")")}return true}}});jQuery(document).ajaxSuccess(function(g,j,b){try{if(typeof j.responseText=="object"){var a=j.responseText}else{if(j.responseText){var a=$.parseJSON(j.responseText)}else{return}}if(a.__logs){var d=a.__logs;for(var c in d){var f=d[c];if(f instanceof Function){continue}switch(f.type){case"log":console.log("{0} => ".format(f.key),f.value);break;case"info":console.info("{0} => ".format(f.key),f.value);break;case"error":console.error("{0} => ".format(f.key),f.value);break;case"warn":console.warn("{0} => ".format(f.key),f.value);break;default:console.log("{0} => ".format(f.key),f.value);break}}}}catch(h){}});(function(a){a.fn.Coffee=function(b){for(var e in b){var c=b[e];for(evt in c){var d=c[evt];a(this).on(evt,e,d)}}}})(jQuery);(function(c){c.fn.chosePerson=function(h){switch(h){case"getChosen":if(this.length==1){var e=[];c(this).find(".chosenPersons .checkPerson").each(function(){e.push(c(this).data("mid"))});return e}var g=[];this.each(function(){var i=[];c(this).find(".chosenPersons .checkPerson").each(function(){i.push(c(this).data("mid"))});g.push(i)});return g;default:var f=this;this.chosens=new a();this.chosens.init(h);return this.each(function(){f.chosens.build(this)});break}};var a=(function(){var e={init:function(f){var g={members:{},chosed:{},mtitle:"所有成员",ctitle:"选中成员",height:200};this.options=c.extend({},g,f)},debug:function(){console.log(this.options)},build:function(g){var n=c(g);var o=this;n.prepend('<div class="_chosenBox"></div>');var i='<div style="margin: 10px 0"><input class="searchs" type="text"></div>';n.find("._chosenBox").append(i);var l='<div class="span5"><input type="checkbox" class="choseAll txBox"><span class="rIcon"></span> 全选<div class="pull-right">'+this.options.mtitle+'</div><div class="allPersons persons span12" style="margin-top: 5px"></div></div>';n.find("._chosenBox").append(l);for(var f in this.options.members){var h=this.options.members[f];var j='<div style="cursor: pointer" class="span12 checkPerson" data-mid="{0}" onselectstart="return false;">{1}</div>'.format(f,htmlEncode(h));n.find("._chosenBox .allPersons").append(j)}var m='<div class="span2 center buttons"><button class="btn btn-blue btn-xs chosenbtn"> >> </button><br /><button class="btn btn-blue btn-xs unchosenbtn"> << </button></div>';n.find("._chosenBox").append(m);var k='<div class="span5"><input type="checkbox" class="choseAll txBox"><span class="rIcon"></span> 全选<div class="pull-right">'+this.options.ctitle+'</div><div class="chosenPersons persons span12" style="margin-top: 5px"></div></div>';n.find("._chosenBox").append(k);for(var f in this.options.chosed){var h=this.options.chosed[f];var j='<div class="span12 checkPerson" data-id="{0}" onselectstart="return false;">{1}</div>'.format(f,htmlEncode(h));n.find("._chosenBox .chosenPersons").append(j)}n.find("._chosenBox").append('<div class="clean"></div>');n.find(".allPersons").on("dblclick",".checkPerson",function(p){o.addPerson(this,n)});n.find(".chosenPersons").on("dblclick",".checkPerson",function(p){o.removePerson(this,n)});n.find(".persons").on("click",".checkPerson",function(p){if(c(this).hasClass("checked")){c(this).removeClass("checked")}else{c(this).addClass("checked")}});n.find("._chosenBox").on("change",".choseAll",function(p){if(c(this).prop("checked")){c(this).parent().find(".persons .checkPerson").each(function(){if(!c(this).hasClass("hidden")){c(this).addClass("checked")}})}else{c(this).parent().find(".persons .checkPerson").each(function(){if(!c(this).hasClass("hidden")){c(this).removeClass("checked")}})}});n.find(".chosenbtn").on("click",function(p){o.addPersons(n)});n.find(".unchosenbtn").on("click",function(p){o.removePersons(n)});n.find(".searchs").on("keyup",function(q){var p=c.trim(c(this).val());n.find(".allPersons .checkPerson").each(function(){if(c(this).text().indexOf(p)>=0){c(this).removeClass("hidden")}else{c(this).removeClass("checked");c(this).addClass("hidden")}})});n.find("._chosenBox .allPersons, ._chosenBox .chosenPersons, ._chosenBox .buttons").css("height",o.options.height+"px")},addPersons:function(f){var g=this;c(f).find(".allPersons .checked").each(function(){g.addPerson(this,f)})},removePersons:function(f){var g=this;c(f).find(".chosenPersons .checked").each(function(){g.removePerson(this,f)})},addPerson:function(h,f){var g=c(h).clone();c(g).removeClass("checked");c(f).find(".chosenPersons").prepend(g);c(h).remove()},removePerson:function(h,f){var g=c(h).clone();c(g).removeClass("checked");c(f).find(".allPersons").prepend(g);c(h).remove()}};return e});var b=[];c.fn.showMsg=function(f,e){if(e==undefined){e=2000}return this.each(function(){$this=c(this);b.push($this);$this.html(f);setTimeout(d,e)})};function d(){var e=b.shift();c(e).html("")}})(jQuery);(function(b){var d=null;b.fn.createNums=function(){var e=this;this.each(function(){var k=b(this);var i=k.data("count");var g=k.data("num");var j=k.data("value");var h='<i class="glyphicon glyphicon-minus"></i>'+'<input readonly value="{0}" data-value="{1}">'.format(g,j)+'<i class="glyphicon glyphicon-plus"></i>';k.html(h);var f=k.find("input");k.find(".glyphicon-minus").bind("mousedown",function(){a(f,e);d=setInterval(function(){a(f,e)},80)}).bind("mouseup",function(){clearInterval(d)});k.find(".glyphicon-plus").bind("mousedown",function(){c(f,e,i);d=setInterval(function(){c(f,e,i)},80)}).bind("mouseup",function(){clearInterval(d)})})};function c(f,e,g){(parseInt(f.val())<g)&&f.val(parseInt(f.val())+1);e.getPayTotal&&e.getPayTotal()}function a(f,e){(parseInt(f.val())>0)&&f.val(parseInt(f.val())-1);e.getPayTotal&&e.getPayTotal()}})(jQuery);(function(a){a.fn.createPage=function(c){return this.each(function(){this.Pagination=new b();this.type="normal";this.Pagination.init(c,this);this.Pagination.buildPagination();this.Pagination.bindCheck();a(this).data("Pagination",this.Pagination)})};a.fn.shortPage=function(c){return this.each(function(){this.Pagination=new b();this.type="short";this.Pagination.init(c,this);this.Pagination.buildShortPagination();this.Pagination.bindCheck();a(this).data("Pagination",this.Pagination)})};var b=(function(){var c={init:function(d,f){var e={pages:0,page:0,max:false,size:undefined,backFunc:null,backParams:{},reload:true,cb:null};this.options=a.extend({},e,d);this.dom=f;if(f.type=="normal"){this.buildFunc=this.buildPagination}else{this.buildFunc=this.buildShortPagination}},debug:function(){console.log(this.dom)},setOptions:function(d){this.options=a.extend({},this.options,d);this.buildFunc()},buildPagination:function(){var g=a(this.dom);this.options.page=parseInt(this.options.page)+1;this.options.pages=parseInt(this.options.pages);g.empty();if(this.options.pages<=1){return}g.append('<div class="tcdPageCode"></div>');g=g.find(".tcdPageCode");if(this.options.page>1){g.append('<a data-page={0} class="prevPage checkPage"></a>'.format(this.options.page-2))}else{g.remove(".prevPage");g.append('<span class="Pdisabled"></span>')}if(this.options.page!=1&&this.options.page>=4&&this.options.pages!=4){g.append('<a data-page=0 class="tcdNumber checkPage">1</a>')}if(this.options.page-2>2&&this.options.page<=this.options.pages&&this.options.pages>5){g.append('<span class="more">...</span>')}var h=this.options.page-2,d=this.options.page+2;if((h>1&&this.options.page<4)||this.options.page==1){d++}if(this.options.page>this.options.pages-4&&this.options.page>=this.options.pages){h--}for(;h<=d;h++){if(h<=this.options.pages&&h>=1){if(h!=this.options.page){g.append('<a class="tcdNumber checkPage" data-page={0}>{1}</a>'.format(h-1,h))}else{g.append('<span class="current">'+h+"</span>")}}}if(this.options.page+2<this.options.pages-1&&this.options.page>=1&&this.options.pages>5){g.append('<span class="more">...</span>')}if(this.options.page!=this.options.pages&&this.options.page<this.options.pages-2&&this.options.pages!=4){g.append('<a class="tcdNumber checkPage" data-page={0}>{1}</a>'.format(this.options.pages-1,this.options.pages))}if(this.options.page<this.options.pages){g.append('<a class="nextPage checkPage" data-page={0}></a>'.format(this.options.page))}else{g.remove(".nextPage");g.append('<span class="Ndisabled"></span>')}if(this.options.max.length>0){a(this.dom).append('<div class="page_size">每页显示：</div>');for(var e=0;e<this.options.max.length;e++){var f='<span size="'+this.options.max[e]+'" class="checkSize">'+this.options.max[e]+"行</span>";a(".page_size").append(f)}if(a(".page_size").find(".checkSize[size={0}]".format(this.options.size)).length>0){a(".page_size").find(".checkSize[size={0}]".format(this.options.size)).addClass("active")}else{a(".page_size").find(".checkSize").eq(0).addClass("active")}}},buildShortPagination:function(){var e=a(this.dom);this.options.page=parseInt(this.options.page)+1;this.options.pages=parseInt(this.options.pages);e.empty();if(this.options.pageCount<=1){return}e.append('<div class="short_page"></div>');e=e.find(".short_page");if(this.options.page>1){e.append('<a data-page={0} class="prevPage checkPage">&lt;</a>'.format(this.options.page-2))}else{e.remove(".prevPage");e.append('<a class="disabled">&lt;</a>')}var d=a("<span class='currentPage'>").text(this.options.page);e.append(d);e.append("/"+this.options.pages);if(this.options.page<this.options.pages){e.append('<a  data-page={0} class="nextPage checkPage">&gt;</a>'.format(this.options.page))}else{e.remove(".nextPage");e.append('<a class="disabled">&gt;</a>')}},bindCheck:function(){var d=this;a(this.dom).unbind("click");a(this.dom).on("click","a.checkPage",function(){var f=a(this).data("page");var e=d.options.size;d.options.page=f;if(d.options.reload){d.buildFunc()}d.options.backFunc(f,d.options.backParams,d.dom,e,d.options.cb,d.dom.type)});a(this.dom).on("click","span.checkSize",function(){var f=d.options.page-1;var e=a(this).attr("size");d.options.size=e;a(this).parent().find("span[size]").removeClass("active");a(this).addClass("active");if(d.options.reload){d.buildFunc()}d.options.backFunc(f,d.options.backParams,d.dom,e,d.options.cb,d.dom.type)})}};return c})})(jQuery);if(!String.prototype.format){String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return typeof a[c]!="undefined"?a[c]:b})}}if(!String.prototype.gblen){String.prototype.gblen=function(){var a=0;for(var b=0;b<this.length;b++){if(this.charCodeAt(b)>127||this.charCodeAt(b)==94){a+=2}else{a++}}return a}}if(!String.prototype.cutString){String.prototype.cutString=function(c,f){f=f||0;var d="";var b=0;var a=1;for(var e=0;e<this.length;e++){if(b>=c){break}if(this.charCodeAt(e)>127||this.charCodeAt(e)==94){a=2}else{a=1}if(f>0){f-=a}else{b+=a}(b>0&&b<=c)&&(d+=this[e])}return d}}if(!Date.prototype.getString){Date.prototype.getString=function(b,f,e){b=parseInt(b)||0;f=parseInt(f)||0;e=parseInt(e)||0;var c=new Date(this.getFullYear()+e,this.getMonth()+f,this.getDate()+b);var h=c.getFullYear();var a=((c.getMonth()+1).toString().length==2)?c.getMonth()+1:("0"+(c.getMonth()+1).toString());var g=(c.getDate().toString().length==2)?c.getDate():("0"+c.getDate().toString());return h+"-"+a+"-"+g};Date.prototype.formatDate=function(j){j=j||"Y-m-d H:i:s";var a=this.getFullYear().toString();var h=a.substring(2);var b=str_pad((this.getMonth()+1).toString(),2,0);var g=str_pad(this.getDate().toString(),2,0);var k=str_pad(this.getHours().toString(),2,0);var e=str_pad(this.getMinutes().toString(),2,0);var l=str_pad(this.getSeconds().toString(),2,0);var f=str_pad(this.getMilliseconds().toString(),3,0);var c={Y:a,y:h,m:b,d:g,H:k,i:e,s:l,M:f};return j.replace(/\w/g,function(d){return c[d]?c[d]:d})}}function getRandomString(b){b=b||8;var c="";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890";var a=e.length;for(var d=0;d<b;d++){c+=e.charAt(Math.floor(Math.random()*a))}return c}function str_pad(e,b,d){if(d==undefined){d=(typeof e=="string")?" ":"0"}var a="";for(var c=0;c<(b-e.toString().length);c++){a+=d}return a+e}function in_array(b,a){return $.inArray(b,a)>=0?true:false}function array_key_exists(b,c){for(var a in c){if(b==a){return true}}return false}function array_delete(a,b){b.splice($.inArray(a,b),1);return b}function setCookie(b,d,a,f,c,e){var g=new Date();a=arguments[2]||null;f=arguments[3]||"/";c=arguments[4]||null;e=arguments[5]||false;a?g.setMinutes(g.getMinutes()+parseInt(a)):"";document.cookie=b+"="+escape(d)+(a?";expires="+g.toGMTString():"")+";path="+f+(c?";domain="+c:"")+(e?";secure":"")}function getCookie(a){var b=new RegExp("(^| )"+a+"(?:=([^;]*))?(;|$)"),c=document.cookie.match(b);return c?(c[2]?unescape(c[2]):""):null}function getUrlParams(c){var a=new RegExp("(^|&)"+c+"=([^&]*)(&|$)");var b=window.location.search.substr(1).match(a);if(b!=null){return unescape(b[2])}return null}function htmlEncode(a){if(typeof a=="string"){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else{return a}}function htmlDecode(a){if(typeof a=="string"){return a.replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}else{return a}}function sendJsTag(b){var a=$.post;if(typeof WeTest!="undefined"&&WeTest.wPost){a=WeTest.wPost}a(webRoot+"/stat/js-tag/",{url:window.location.href,tags:b,refer:document.referrer,tool:document.wetestToolName})}$(function(){$(document).Coffee({".txBox ~ .rIcon:not(.boot)":{click:function(){$(this).prev("input").click()}},"input[type=text][maxLen],textarea[type=text][maxLen]":{input:function(){var max=parseInt($(this).attr("maxLen"));if(this.value.gblen()>max){this.value=this.value.cutString(max)}}},"[tips]":{mousemove:function(e){if(!$(this).attr("tips")){return}if(this.nodeName=="SELECT"&&$(this).is(":focus")){return}if($("#tooltipdiv").length==0){var content=htmlEncode($(this).attr("tips")).replace(/[\n\r]/g,"<br />");var tooltipdi='<div id="tooltipdiv" class="txDivTips">'+content+"</div>";$("body").append(tooltipdi);$("#tooltipdiv").show()}$("#tooltipdiv").css({top:e.pageY+"px",left:e.pageX+"px"})},mouseleave:function(){$("#tooltipdiv").remove()},focus:function(){if(this.nodeName=="SELECT"&&$("#tooltipdiv").length>0){$("#tooltipdiv").remove()}}},"input[preg],textarea[preg],select[preg]":{"blur change":function(){var preg=new RegExp($(this).attr("preg"));if(!preg.test($(this).val())){$(this).removeClass("correct");$(this).addClass("error")}else{$(this).removeClass("error");$(this).addClass("correct")}}},"input[onEnter]":{keypress:function(e){if(e.which==13){eval($(this).attr("onEnter"))}}},"select[tp1]":{change:function(){saveJsTag(this)}},"[tp1]":{click:function(){if(this.nodeName=="SELECT"){return}saveJsTag(this)}},"td.editTd input":{mouseout:function(){$(this).next("span").text($(this).val())}}});function saveJsTag(obj){if(typeof webRoot=="undefined"){webRoot=""}var tags={};var attrs=$(obj)[0].attributes;for(var i in attrs){var attr=attrs[i];if(attr&&attr.value&&/^tp\d{1,2}$/.test(attr.name)){tags[attr.name]=getTag(obj,attr.name)}}sendJsTag(tags)}function getTag(obj,tag){var text=$(obj).attr(tag);if(/this\./.test(text)||/\$\(this\)\./.test(text)||/^window\.\w+/.test(text)||/.+\(.*\)/.test(text)){try{text=eval(text.replace(/this/g,"obj"))}catch(e){}}return text}});function createTablePage(f,d,g,c,e){e=e||"normal";var b=$.extend(true,{},d);delete (b.__url__);b.page=f;var h=$(g).attr("role");var a=$("#"+h);$(a).html('<div class="loading"></div>');$.ajax({type:"POST",url:d.__url__,data:b,dataType:"json",success:function(m){var k=m;if(k.flag){var j=k.ret;var i=j.pages;var l=j.html;var n=j.options;if(n!=undefined&&$(".alertNotice").hasClass("active")&&typeof getUnReadMessage=="function"){getUnReadMessage()}if($(a).find(".loading").length>0){$(a).html(l);if(g.Pagination==undefined){if(e=="short"){$(g).shortPage({pages:i,page:f,backFunc:createTablePage,backParams:d,cb:c})}else{$(g).createPage({pages:i,page:f,backFunc:createTablePage,backParams:d,cb:c})}}else{if(g.Pagination.options.pages!=i){g.Pagination.setOptions({pages:i,page:f})}}}}else{$(a).html("");Doalert(k.error?k.error:k.msg)}if(typeof c=="function"){c(k)}}})}(function(a){a.fn.AjaxTable=function(d,c,b,e){if(typeof c=="object"){var c=a.extend(true,{},c)}if(this.length<=0){return}var g=a('.pages[role="{0}"]'.format(this[0].id));if(g.length<=0){console.warn("no .pages direct to "+this[0].id);return}if(d==undefined){if(a(g).data("url")){d=a(g).data("url")}else{return}}else{a(g).data("url",d)}var f=c!=undefined&&c.page?c.page:0;if(c==undefined){c={}}else{if(c=="reload"){if(a(g).data("Pagination")){f=a(g).data("Pagination").options.page-1}c=a(g).data("options")}}e=e||a(g).data("type");a(g).data("options",c);a(g).data("type",e);c.__url__=d;createTablePage(f,c,g,b,e)}})(jQuery);(function(a){a.fn.DomToHtml=function(b){if(b[0]){b=b[0]}if(b.nodeName=="TEXTAREA"||b.nodeName=="INPUT"){b.value=this[0].innerHTML}return this};a.fn.HtmlToDom=function(b){if(b[0]){b=b[0]}if(this[0].nodeName=="TEXTAREA"||this[0].nodeName=="INPUT"){a(b).html(this[0].value)}return this}})(jQuery);
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.9
 *
 * Requires: jQuery 1.2.2+
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a}else{a(jQuery)}}}(function(c){var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,j,b;if(c.event.fixHooks){for(var e=d.length;e;){c.event.fixHooks[d[--e]]=c.event.mouseHooks}}var f=c.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener){for(var m=k.length;m;){this.addEventListener(k[--m],l,false)}}else{this.onmousewheel=l}c.data(this,"mousewheel-line-height",f.getLineHeight(this));c.data(this,"mousewheel-page-height",f.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var m=k.length;m;){this.removeEventListener(k[--m],l,false)}}else{this.onmousewheel=null}},getLineHeight:function(i){return parseInt(c(i)["offsetParent" in c.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(i){return c(i).height()},settings:{adjustOldDeltas:true}};c.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel")},unmousewheel:function(i){return this.unbind("mousewheel",i)}});function l(i){var n=i||window.event,r=h.call(arguments,1),t=0,p=0,o=0,q=0;i=c.event.fix(n);i.type="mousewheel";if("detail" in n){o=n.detail*-1}if("wheelDelta" in n){o=n.wheelDelta}if("wheelDeltaY" in n){o=n.wheelDeltaY}if("wheelDeltaX" in n){p=n.wheelDeltaX*-1}if("axis" in n&&n.axis===n.HORIZONTAL_AXIS){p=o*-1;o=0}t=o===0?p:o;if("deltaY" in n){o=n.deltaY*-1;t=o}if("deltaX" in n){p=n.deltaX;if(o===0){t=p*-1}}if(o===0&&p===0){return}if(n.deltaMode===1){var s=c.data(this,"mousewheel-line-height");t*=s;o*=s;p*=s}else{if(n.deltaMode===2){var m=c.data(this,"mousewheel-page-height");t*=m;o*=m;p*=m}}q=Math.max(Math.abs(o),Math.abs(p));if(!b||q<b){b=q;if(a(n,q)){b/=40}}if(a(n,q)){t/=40;p/=40;o/=40}t=Math[t>=1?"floor":"ceil"](t/b);p=Math[p>=1?"floor":"ceil"](p/b);o=Math[o>=1?"floor":"ceil"](o/b);i.deltaX=p;i.deltaY=o;i.deltaFactor=b;i.deltaMode=0;r.unshift(i,t,p,o);if(j){clearTimeout(j)}j=setTimeout(g,200);return(c.event.dispatch||c.event.handle).apply(this,r)}function g(){b=null}function a(m,i){return f.settings.adjustOldDeltas&&m.type==="mousewheel"&&i%120===0}}));function Doalert(c,d,g){if($("#alert").length<=0){var h='<div class="modal modal-alert fade" id="alert" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="alert-message"></div><button class="submit-btn btn btn-blue" class="close" data-dismiss="modal" aria-hidden="true">确定</button></div></div></div></div>';$(document).find("body").append(h)}var a=c.split(/\<br[ /]*\>/);var f=a.length;var i=0;for(var j in a){if(typeof(a[j])=="string"){var e=a[j].gblen();f=f+parseInt(e/110);if(e>i){i=e}}}var b=Math.min(Math.max(i*7+100,276),800,$(window).outerWidth());var k=Math.min(Math.max(f*20+135,160),300);g=g||"确定";$("#alert").find(".modal-dialog").css("width",b+"px");$("#alert").find(".modal-body").css("height",k+"px");$("#alert").find(".alert-message").html(c);$("#alert .submit-btn").html(g);$("#alert").unbind("hide.bs.modal");$("#alert").on("hide.bs.modal",d);$("#alert").modal({backdrop:"static",keyboard:false}).modal("show")}function Doconfirm(c,d,g){g=g||"确定";if($("#confirm").length<=0){var h='<div class="modal modal-alert fade" id="confirm" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="alert-message"></div><button class="submit-btn btn btn-blue" class="close" data-dismiss="modal" aria-hidden="true">确定</button><button class="btn btn-default close-btn" class="close" data-dismiss="modal" aria-hidden="true">取消</button></div></div></div></div>';$(document).find("body").append(h)}var a=c.split(/\<br[ /]*\>/);var f=a.length;var i=0;for(var j in a){var e=a[j].gblen();f=f+parseInt(e/110);if(e>i){i=e}}var b=Math.min(Math.max(i*7+100,276),800,$(window).outerWidth());var k=Math.min(Math.max(f*20+135,160),300);$("#confirm").find(".modal-dialog").css("width",b+"px");$("#confirm").find(".modal-body").css("height",k+"px");$("#confirm").find(".alert-message").html(c);$("#confirm").find(".submit-btn").unbind("click").css("margin-right","12px").text(g);$("#confirm").find(".close-btn").unbind("click");if(typeof d=="function"){if(d.length>0){$("#confirm").find(".submit-btn").bind("click",function(){d(true)});$("#confirm").find(".close-btn").bind("click",function(){d(false)})}else{$("#confirm").find(".submit-btn").bind("click",d)}}$("#confirm").modal({backdrop:"static",keyboard:false}).modal("show")}var __modals__=__modals__||[];var __TimeHandler__=__TimeHandler__||null;showModal.large="large";showModal.normal="default";showModal.middle="middle";showModal.small="small";function showModal(a){if($("#NoteModal").length<=0){var c='<div class="modal modal-message fade" id="NoteModal" tabindex="-1" role="dialog" aria-hidden="false"><div class="modal-dialog" style="margin-left: auto; margin-right: auto"><div class="modal-content"><div class="modal-header center"><button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><h4 class="modal-title inline pull-left"></h4><div class="inline" style="margin-right: 10%"><span id="mnotice" class="snotice colorR"></span><span id="mmsg" class="snotice colorG"></span></div><div class="clean"></div></div><div class="modal-body"></div><div class="modal-footer"><button class="submit-btn btn btn-blue">确定</button>&nbsp;&nbsp;<span class="close" style="opacity: 1" data-dismiss="modal" aria-hidden="true"><button class="close-btn btn btn-default">关闭</button></span></div></div></div></div>';$(document).find("body").append(c)}if(a==undefined){if(__modals__.length>0){var b=__modals__[0];__showModals__(b)}}else{if(__modals__.length==0){__showModals__(a)}__modals__.push(a)}}function putIntext(b,a){$("#NoteModal").find(".modal-body").html(b);if(!a.showHeader){$("#NoteModal").find(".modal-body").prepend('<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>')}if(a.func!=undefined){$("#NoteModal").find(".submit-btn").bind("click",function(){if(a.funcParam==undefined){a.func()}else{a.func.apply(this,a.funcParam)}})}else{$("#NoteModal").find(".submit-btn").addClass("hidden")}if(a.closefunc!=undefined){$("#NoteModal").find(".close-btn").bind("click",function(){if(a.closeParam==undefined){a.closefunc()}else{a.closefunc.apply(this,a.closeParam)}})}if(a.hideFunc){$("#NoteModal").on("hide.bs.modal",function(){if(a.hideParam==undefined){a.hideFunc()}else{a.hideFunc.apply(this,a.hideParam)}})}else{$("#NoteModal").on("hide.bs.modal",function(){$("#NoteModal").find(".modal-body").scrollTop(0)})}}function __showModals__(j){var d={url:undefined,title:"",content:undefined,style:{},postData:{},func:undefined,funcParam:undefined,size:"default",padding:15,closefunc:undefined,closeParam:undefined,showFooter:true,showHeader:true,btnComment:"确定",btnClose:"关闭",backdrop:true,timeout:undefined,toFunc:hideModal,hideFunc:undefined,hideParam:undefined,shownFunc:undefined,shownParam:[],showFunc:undefined,showParam:[]};j=$.extend({},d,j);if(!j.url&&!j.content){return false}var g=680;var b=460;if(j.size==showModal.small){g=380;b=240}else{if(j.size==showModal.large){g=900;b=600}else{if(j.size==showModal.middle){g=500;b=330}}}c();$(window).resize(function(){c()});function c(){var m=$(window).height();var l=(b<=m)?b:m;var n=parseInt((m-l)/2);$("#NoteModal .modal-dialog").css("margin-top",n+"px")}var i=b;if(j.showHeader){$("#NoteModal").find(".modal-header").show();i-=38}else{$("#NoteModal").find(".modal-header").hide()}if(j.showFooter){$("#NoteModal").find(".modal-footer").show();i-=51}else{$("#NoteModal").find(".modal-footer").hide()}$("#NoteModal").find(".modal-body").css("padding",j.padding+"px");$("#NoteModal").find(".modal-title").html(j.title);$("#NoteModal").find(".modal-body").html('<div class="loading"></div>');$("#NoteModal").find(".modal-dialog").css("width",g+"px");$("#NoteModal").find(".modal-body").css("height",i+"px");$("#NoteModal").find(".submit-btn").unbind("click").removeClass("hidden");$("#NoteModal").find(".submit-btn").html(j.btnComment);if(!j.btnClose){$("#NoteModal").find(".close-btn").hide()}else{$("#NoteModal").find(".close-btn").html(j.btnClose).unbind("click").show()}$("#NoteModal").modal({backdrop:j.backdrop});var e=0;if(typeof j.showFunc=="function"||typeof j.shownFunc=="function"){$("#NoteModal").on("show.bs.modal",function(){if(typeof j.showFunc=="function"){j.showFunc.apply(this,j.showParam)}if(typeof j.shownFunc=="function"){setTimeout(function(){if(++e==2){j.shownFunc.apply(this,j.shownParam)}},200)}})}$("#NoteModal").modal("show");if(j.url){var k=$.ajax;if(in_array(window.location.host,["fsight.openqa.qq.com","fsightpub.qq.com","fsight.qq.com"])){if(/^(http(s)?:)?\/\/(user\.openqa|wepub|wetest)\.qq\.com\//.test(j.url)){k=(typeof WeTest.wAjax=="undefined")?$.ajax:WeTest.wAjax}}k({type:"POST",url:j.url,data:j.postData,beforeSend:function(l){l.setRequestHeader("X-SHOW-TEMPLATE","1")},success:function(l){putIntext(l,j);if(typeof j.shownFunc=="function"){if(++e==2){j.shownFunc.apply(this,j.shownParam)}}}})}else{var a={height:"100%",padding:"20% 10%","font-size":"16px","text-align":"center"};var h=$.extend({},a,j.style);var f='<div id="modalContent">'+j.content+"</div>";putIntext(f,j);$("#modalContent").css(h)}$("#NoteModal").on("hidden.bs.modal",function(){clearTimeout(__TimeHandler__);$("#NoteModal").unbind("hide.bs.modal");$("#NoteModal").unbind("show.bs.modal");$("#NoteModal").unbind("hidden.bs.modal");$("#NoteModal").unbind("shown.bs.modal");__modals__.shift();showModal()});if(j.timeout){__TimeHandler__=setTimeout(j.toFunc,j.timeout)}}function hideModal(a){if(a===true){$("#NoteModal").unbind("hide.bs.modal")}$("#NoteModal").modal("hide")}function hideAlert(a){if($("#alert").css("display")=="block"){if(a){$("#alert").unbind("hide.bs.modal")}$("#alert").modal("hide")}if($("#confirm").css("display")=="block"){$("#confirm").modal("hide")}};